- name: Simple failure report
  tags:
    - story
    - failure
    - documentation
  description: |
    Basic failure report.
  preconditions:
    files:
      example.story: |
        Failing story:
          scenario:
            - Passing step
            - Failing step
            - Not executed step
  scenario:
    - Run command: |
        from hitchstory import StoryCollection, BaseEngine

        class Engine(BaseEngine):
            def passing_step(self):
                pass

            def failing_step(self):
                raise ExampleException("Towel not located")

            def not_executed_step(self):
                pass

        result = StoryCollection(".", Engine()).one().play()
        output(result.report())
    - Output is: |
        FAILURE IN example.story: Failing story in 0.1 seconds.

        ExampleException
          
            This is a demonstration exception's docstring.

            It spreads across multiple lines.
            

        Towel not located
