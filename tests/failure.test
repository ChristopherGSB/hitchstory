- name: Simple failure report
  tags:
    - story
    - failure
    - documentation
  description: |
    Basic failure report.
  preconditions:
    files:
      example.story: |
        Failing story:
          scenario:
            - Passing step
            - Failing step
            - Not executed step
      exception_file.py: |
        class ExampleException(Exception):
            """
            This is a demonstration exception's docstring.

            It spreads across multiple lines.
            """
            pass

        def raise_exception(text):
            raise ExampleException(text)
      engine.py: |
        from hitchstory import BaseEngine
        from exception_file import raise_exception


        class Engine(BaseEngine):
            def passing_step(self):
                pass

            def failing_step(self):
                raise_exception("Towel not located")

            def not_executed_step(self):
                pass
  scenario:
    - Run command: |
        from hitchstory import StoryCollection
        from engine import Engine
        from pathquery import pathq

        result = StoryCollection(pathq(".").ext("story"), Engine()).one().play()
        output(result.report())
    - Output will be:
        reference: failure
        changeable:
          - FAILURE IN ((( anything )))/example.story
          - ((( anything )))/story.py
          - ((( anything )))/engine.py
