- name: Run through story with preconditions
  tags:
    - preconditions
    - simple
    - documentation
    - happy
  preconditions:
    files:
      example.story: |
        Create files:
          preconditions:
            content: things
          scenario:
            - Create file
  scenario:
    - Run command: |
        from hitchstory import StoryCollection, BaseEngine
        from strictyaml import Str
        from pathquery import pathq


        class Engine(BaseEngine):
            preconditions_schema = {
                "content": Str()
            }

            def create_file(self):
                output(self.preconditions['content'])

        StoryCollection(pathq(".").ext("story"), Engine()).one().play()
    - Output is: things
